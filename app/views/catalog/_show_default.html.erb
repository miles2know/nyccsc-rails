<%# default partial to display solr document fields in catalog show view -%>
<dl class="dl-horizontal  dl-invert">
  <% document_show_fields(document).each do |solr_fname, field| -%>

    <% if should_render_show_field? document, field %>

	    <dt class="blacklight-<%= solr_fname.parameterize %>"><%= render_document_show_field_label document, :field => solr_fname %></dt>
	    <dd class="blacklight-<%= solr_fname.parameterize %>"><%= render_document_show_field_value document, :field => solr_fname %></dd>

      <%# need to add a helper method to get the field value only, couldn't find a built in method to do so -%>
      <% 
        field_value = render_document_show_field_value document, :field => solr_fname
      %>
      
      <%# Is this a Data Product or GIS Layer? -%>
      <%  
          if field_value.include? "Data Product" 
            @special_type = "data_product"
          elsif field_value.include? "GIS Mapping Layer" 
            @special_type = "gis_layer"
          end -%>  

    <% end -%>
  <% end -%>
  
   <%# Including a linked data request here to retrieve RDF values OR get values from a sparql query -%>
   <%# Commented out but leaving in here for reference if we need to use this for some reason later -%>
<%
#jsonResult = get_linkeddata_result(document)
#displayResult = get_display_hash(jsonResult, document)
#Rails.logger.debug("Display result is #{displayResult.inspect}")
# displayResult.each do |result|
# 	displayValue = result["displayValue"]
 	# Not truncating display values here

         #  <dt class="blacklight-= result["name"] ">= result["displayName"] </dt>
		 #  <dd class="blacklight-= result["name"]">=displayValue </dd>
  
#end		                               		
%>
<span id="includeURLInfo"></span>
<% 
## Here we will try a sparql query request - for now until we get all properties back as we wish - to get the URL

%>

<%#  Trying out a full profile dump here as well, will comment out linked data request in favor of profile info instead -%>

<%
all_properties = retrieve_individual_profile_properties_for_show(document)
display_hash = display_all_properties(all_properties)
display_hash.each do|statement_hash|        
%>

                      <dt class="blacklight-<%= statement_hash["property_name"] %>"><%=statement_hash["property_name"]%></dt>
  		                <dd class="blacklight-<%= statement_hash["property_name"] %>"><%=statement_hash["property_display_values"].html_safe%></dd>

<%
     					      
   					      
end             
%>
<hr>


<% if @special_type.nil? or @special_type.empty? -%>
  <%# nothing extra to show -%>
<% elsif @special_type == "data_product" -%>
  <%= render 'data_product' %>
<% elsif @special_type == "gis_layer" -%>
  <% #= render 'map' %>
<% end -%>

</dl>



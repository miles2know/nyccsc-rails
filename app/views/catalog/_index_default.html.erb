<%# default partial to display solr document fields in catalog index view -%>
<dl class="document-metadata dl-horizontal dl-invert">
  
  <% index_fields(document).each do |solr_fname, field| -%>
    <% if should_render_index_field? document, field %>
	    <dt class="blacklight-<%= solr_fname.parameterize %>"><%= render_index_field_label document, :field => solr_fname %></dt>
	    <dd class="blacklight-<%= solr_fname.parameterize %>"><%= render_index_field_value document, :field => solr_fname %></dd>
    <% end -%>
  <% end -%>
  
  <%# Including a linked data request here to retrieve RDF values OR get values from a sparql query -%>
<%
jsonResult = get_linkeddata_result(document)
displayResult = get_display_hash(jsonResult, document)
Rails.logger.debug("Display result is #{displayResult.inspect}")
 displayResult.each do |result|
 	displayValue = result["displayValue"]
 	if displayValue.length > 300 
 		displayValue = displayValue[0..299] + " ..."
 	end
   %>
           <dt class="blacklight-<%= result["name"] %>"><%= result["displayName"] %></dt>
		   <dd class="blacklight-<%= result["name"] %>"><%=displayValue %></dd>
   <%
end		                               		
%>

</dl>
